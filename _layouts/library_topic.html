---
layout: default
---

<article class="library-topic">
  <div class="library-topic__hero">
    <div class="library-topic__hero-content">
      <div class="library-topic__cover">
        {% if page.cover_image %}
          <img src="{{ page.cover_image | relative_url }}" alt="{{ page.title }} cover" class="library-topic__cover-image">
        {% else %}
          <div class="library-topic__cover-placeholder">
            <span>{{ page.title }}</span>
          </div>
        {% endif %}
      </div>
      
      <div class="library-topic__details">
        <h1 class="library-topic__title">{{ page.title }}</h1>
        {% if page.subtitle %}
          <p class="library-topic__subtitle">{{ page.subtitle }}</p>
        {% endif %}
        
        <div class="library-topic__meta">
          {% if page.category %}
            <span class="library-topic__category">{{ page.category }}</span>
          {% endif %}
          {% if page.essay_count %}
            <span class="library-topic__count">{{ page.essay_count }} essays</span>
          {% endif %}
        </div>
      </div>
    </div>
  </div>

  {% if page.summary %}
  <section class="library-topic__summary visually-hidden">
    <h2>Summary</h2>
    <div class="library-topic__summary-text ">
      {{ page.summary | markdownify }}
    </div>
  </section>
  {% endif %}

  <section class="library-topic__content prose">
    {{ content }}
  </section>

  <section class="library-topic__toc">
    <h2>Essays</h2>
    <div class="library-topic__essays">
      {% assign topic_folder = page.url | split: '/' | slice: 1, 3 | join: '/' %}
      {% assign essays = site.pages | where_exp: "page", "page.url contains topic_folder" | where_exp: "page", "page.layout == 'library_essay'" | sort: "order" %}
      
      {% if essays.size > 0 %}
        <ol class="library-topic__essay-list">
          {% for essay in essays %}
            <li class="library-topic__essay-item">
              <a href="{{ essay.url | relative_url }}" class="library-topic__essay-link">
<span class="library-topic__essay-title">{{ essay.title }}</span>
              </a>
            </li>
          {% endfor %}
        </ol>
      {% else %}
        <p class="library-topic__no-essays">No essays available yet.</p>
      {% endif %}
    </div>
  </section>

  <nav class="library-topic__navigation">
    <a href="{{ '/library/' | relative_url }}" class="library-topic__back-link">‚Üê Back to Library</a>
  </nav>
</article>