<header class="header">
  <label class="theme-toggle" data-controller="theme">
    <input type="checkbox" data-action="change->theme#toggle" class="theme-toggle__input" aria-label="Toggle between dark and light theme">
    <span class="theme-toggle__slider" aria-hidden="true"></span>
    <span class="visually-hidden">Toggle theme</span>
  </label>
  
  <div class="header__content">
    <div class="masthead">
      <a href="{{ "/" | relative_url }}" class="masthead__avatar">
        <picture>
          <source srcset="{{ "/assets/images/avatar-new.webp" | relative_url }}" type="image/webp">
          <img src="{{ "/assets/images/avatar-new.jpg" | relative_url }}" alt="{{ site.author }}" class="masthead__image">
        </picture>
      </a>
      <h1 class="masthead__title">{{ site.author }}, Author</h1>
      {% if page.url == "/" %}
        <p class="masthead__bio">
          {{ site.author_bio }}
        </p>
      {% endif %}
    </div>
    <nav class="nav" aria-label="Main navigation">
      <a href="{{ "/" | relative_url }}" class="nav__link {% if page.url == "/" %}nav__link--active{% endif %}"{% if page.url == "/" %} aria-current="page"{% endif %}>Home</a>
      <a href="{{ "/books" | relative_url }}" class="nav__link {% if page.url == "/books/" %}nav__link--active{% endif %}"{% if page.url == "/books/" %} aria-current="page"{% endif %}>Books</a>
      <a href="{{ "/about" | relative_url }}" class="nav__link {% if page.url == "/about/" %}nav__link--active{% endif %}"{% if page.url == "/about/" %} aria-current="page"{% endif %}>About</a>
      <a href="{{ "/library" | relative_url }}" class="nav__link {% if page.url contains "/library" %}nav__link--active{% endif %}"{% if page.url contains "/library" %} aria-current="page"{% endif %}>Library</a>
    </nav>
  </div>
  <hr class="header__divider">
</header>